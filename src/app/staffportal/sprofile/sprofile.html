<div class="container mt-5">
  <div class="card shadow-lg border-0">
    <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
      <h4 class="mb-0"><i class="bi bi-person-circle me-2"></i>Employee Profile</h4>
      <div>
        <button *ngIf="!isEditing" class="btn btn-light btn-sm me-2" (click)="editProfile()">
          <i class="bi bi-pencil"></i> Edit
        </button>
        <button class="btn btn-warning btn-sm" (click)="togglePasswordForm()">
          <i class="bi bi-key"></i> Change Password
        </button>
      </div>
    </div>

    <div class="card-body p-4">
      <form>
        <!-- Employee ID -->
        <div class="mb-3 row">
          <label class="col-sm-3 col-form-label fw-bold">Employee ID</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" [(ngModel)]="User.empId" name="empId" readonly />
          </div>
        </div>

        <!-- Employee Name -->
        <div class="mb-3 row">
          <label class="col-sm-3 col-form-label fw-bold">Name</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" [(ngModel)]="User.empName" name="empName" [readonly]="!isEditing" />
          </div>
        </div>

        <!-- Role -->
        <div class="mb-3 row">
          <label class="col-sm-3 col-form-label fw-bold">Role</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" [(ngModel)]="User.empRole" name="empRole" [readonly]="!isEditing" />
          </div>
        </div>

        <!-- Mobile -->
        <div class="mb-3 row">
          <label class="col-sm-3 col-form-label fw-bold">Mobile</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" [(ngModel)]="User.empMobile" name="empMobile" [readonly]="!isEditing" />
          </div>
        </div>

        <!-- Email -->
        <div class="mb-3 row">
          <label class="col-sm-3 col-form-label fw-bold">Email</label>
          <div class="col-sm-9">
            <input type="email" class="form-control" [(ngModel)]="User.empEmail" name="empEmail" [readonly]="!isEditing" />
          </div>
        </div>

        <!-- Branch ID -->
        <div class="mb-3 row">
          <label class="col-sm-3 col-form-label fw-bold">Branch ID</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" [(ngModel)]="User.branchId" name="branchId" [readonly]="!isEditing" />
          </div>
        </div>

        <!-- Branch Name -->
        <div class="mb-3 row">
          <label class="col-sm-3 col-form-label fw-bold">Branch Name</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" [(ngModel)]="User.branchName" name="branchName" [readonly]="!isEditing" />
          </div>
        </div>

        <!-- Branch Address -->
        <div class="mb-3 row">
          <label class="col-sm-3 col-form-label fw-bold">Branch Address</label>
          <div class="col-sm-9">
            <textarea class="form-control" rows="2" [(ngModel)]="User.bAddress" name="bAddress" [readonly]="!isEditing"></textarea>
          </div>
        </div>

        <!-- Buttons -->
        <div class="text-end mt-4" *ngIf="isEditing">
          <button class="btn btn-success me-2" type="button" (click)="saveProfile()">
            <i class="bi bi-save"></i> Save
          </button>
          <button class="btn btn-secondary" type="button" (click)="cancelEdit()">
            <i class="bi bi-x-circle"></i> Cancel
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Change Password Form -->
  <div *ngIf="showPasswordForm" class="card shadow-lg border-0 mt-4 fade-in">
    <div class="card-header bg-warning text-dark fw-bold">
      <i class="bi bi-key me-2"></i> Update Login Password
    </div>
    <div class="card-body p-4">
      <form>
        <div class="mb-3">
          <label class="form-label fw-bold">Old Password</label>
          <input type="password" class="form-control" [(ngModel)]="passwordData.oldPassword" name="oldPassword" />
        </div>

        <div class="mb-3">
          <label class="form-label fw-bold">New Password</label>
          <input type="password" class="form-control" [(ngModel)]="passwordData.newPassword" name="newPassword" />
        </div>

        <div class="mb-3">
          <label class="form-label fw-bold">Confirm Password</label>
          <input type="password" class="form-control" [(ngModel)]="passwordData.confirmPassword" name="confirmPassword" />
        </div>

        <div class="text-end">
          <button class="btn btn-success me-2" type="button" (click)="updatePassword()">
            <i class="bi bi-check-circle"></i> Update
          </button>
          <button class="btn btn-secondary" type="button" (click)="togglePasswordForm()">
            <i class="bi bi-x-circle"></i> Cancel
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
